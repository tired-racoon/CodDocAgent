## ClassDef TestChangeDetector
**TestChangeDetector**: Функция TestChangeDetector имеет значение для тестирования детектора изменений в системе контроля версий Git.

**Attributes**:
* параметр 1: `test_repo_path` — путь к тестовому репозиторию.
* параметр 2: `repo` — инициализированный объект репозитория Git.
* параметр 3: `cls.repo.git` — объект для работы с Git-командами.

**Описание кода**:

Класс `TestChangeDetector` наследуется от `unittest.TestCase` и предназначен для тестирования функций, связанных с изменениями файлов в Git. В методе `setUpClass` происходит инициализация тестового репозитория, создание файлов и настройка Git-пользователя.

Метод `test_get_staged_pys` проверяет, что новый файл добавлен в индекс (staging area). Для этого создаётся новый Python-файл, добавляется в индекс и проверяется, что он присутствует в списке файлов, которые будут добавлены при следующем коммите.

Метод `test_get_unstaged_mds` проверяет, что изменённый Markdown-файл не добавлен в индекс. Для этого в файл добавляется дополнительное содержимое, проверяется список файлов, которые нужно добавить в индекс, и утверждается, что изменённый файл присутствует в этом списке.

Метод `test_add_unstaged_mds` добавляет изменённый Markdown-файл в индекс и проверяет, что после этого в списке файлов для добавления в индекс нет файлов.

В методе `tearDownClass` происходит очистка тестового репозитория после завершения тестирования.

**Примечание**:
При использовании класса `TestChangeDetector` необходимо учитывать, что он работает с тестовым репозиторием, который удаляется после завершения тестирования. Поэтому не следует полагаться на сохранение состояния репозитория между тестами.
### FunctionDef setUpClass(cls)
**setUpClass**: Функция setUpClass используется для настройки окружения перед выполнением тестовых случаев в классе.

**parameters**: параметров у функции setUpClass нет.

**Описание кода**: функция setUpClass выполняет следующие действия:
* Определяет путь к тестовому репозиторию, используя текущий файл и добавляя к нему путь 'test_repo'.
* Проверяет существование директории тестового репозитория и создаёт её, если она не существует.
* Инициализирует Git-репозиторий в определённой директории.
* Конфигурирует Git с электронной почтой и именем пользователя.
* Создаёт тестовые файлы: 'test_file.py' с содержимым на языке Python и 'test_file.md' с содержимым на языке Markdown.
* Выполняет Git-операции: добавляет файлы и совершает начальную фиксацию.

**Примечание**: перед выполнением тестов убедитесь, что функция setUpClass корректно настроила окружение. Это важно для обеспечения корректной работы тестов.
***
### FunctionDef test_get_staged_pys(self)
**test_get_staged_pys**: Функция `test_get_staged_pys` проверяет, добавлен ли новый Python-файл в индекс системы контроля версий Git.

**parameters**: функция не принимает внешних параметров.

**Описание кода**:

Функция `test_get_staged_pys` выполняет следующие действия:

1. Создаёт новый Python-файл в тестовой директории и добавляет его в индекс.
2. Использует класс `ChangeDetector` для получения списка файлов, добавленных в индекс.
3. Проверяет, что созданный файл присутствует в списке файлов, добавленных в индекс.

Код выполняет следующие шаги:

- Создаётся путь к новому файлу `new_test_file.py` в тестовой директории `self.test_repo_path`.
- Открывается файл для записи, в него записывается простая инструкция `print`.
- Файл добавляется в индекс с помощью метода `add` объекта `repo.git`.
- Создаётся экземпляр класса `ChangeDetector` с путём к тестовой директории.
- Вызывается метод `get_staged_pys` у экземпляра `ChangeDetector`, который возвращает список добавленных файлов.
- Проверяется, что `new_test_file.py` присутствует в списке `staged_files` с помощью метода `assertIn`.
- Выводится информация о добавленных файлах.

**Примечание**: при использовании функции `test_get_staged_pys` убедитесь, что тестовая директория (`self.test_repo_path`) настроена правильно и что в системе контроля версий Git корректно работает добавление файлов в индекс.
***
### FunctionDef test_get_unstaged_mds(self)
**test_get_unstaged_mds**: Функция test_get_unstaged_mds проверяет наличие изменений в Markdown файле, которые ещё не были сохранены (закоммичены) в репозитории.

**parameters**: параметр у этой функции отсутствует.

**Описание кода**:
Функция test_get_unstaged_mds выполняет следующие действия:
1. Открывает существующий Markdown файл в режиме добавления (append) и добавляет в него новую строку с текстом '\nAdditional Markdown content'. Это имитирует внесение изменений в файл без сохранения изменений.
2. Создаёт экземпляр класса ChangeDetector с путём к тестовому репозиторию.
3. Вызывает метод get_to_be_staged_files у экземпляра ChangeDetector, чтобы получить список файлов, которые нужно сохранить.
4. Использует метод assertIn для проверки того, что изменённый файл 'test_file.md' присутствует в списке unstaged_files.
5. Выводит список unstaged_files с помощью print.

Функция вызывается в контексте тестирования и используется для проверки корректности работы метода добавления файлов в список для сохранения.

**Примечание**: Обратите внимание, что функция test_get_unstaged_mds не принимает параметров и работает с фиксированным путём к файлу в тестовом репозитории. Это сделано для упрощения тестирования и демонстрации работы функции в контролируемых условиях.
***
### FunctionDef test_add_unstaged_mds(self)
**test_add_unstaged_mds**: Функция test_add_unstaged_mds проверяет корректность добавления в список файлов, подлежащих сохранению, файлов, которые ранее не были добавлены в систему контроля версий.

**parameters**: функция не принимает параметров.

**Описание кода**: функция test_add_unstaged_mds выполняет следующие действия:
1. Вызывает функцию test_get_unstaged_mds для обеспечения наличия файла, который ещё не был сохранён в системе контроля версий.
2. Создаёт экземпляр класса ChangeDetector с путём к тестовому репозиторию.
3. Вызывает метод add_unstaged_files у экземпляра ChangeDetector, чтобы добавить файлы, которые ещё не были добавлены в систему контроля версий.
4. Получает список файлов, которые должны быть сохранены, используя метод get_to_be_staged_files у экземпляра ChangeDetector.
5. Проверяет, что после добавления файлов в список для сохранения, в списке не осталось файлов, которые ещё не были сохранены.
6. Выводит количество оставшихся файлов, которые не были добавлены в систему контроля версий после добавления.

**Примечание**: обратите внимание, что функция test_add_unstaged_mds зависит от функции test_get_unstaged_mds, которая подготавливает условия для тестирования. Функция test_get_unstaged_mds вносит изменения в Markdown файл и добавляет его в список файлов, подлежащих сохранению. Функция test_add_unstaged_mds проверяет, что после добавления файлов в список для сохранения, в списке не осталось файлов, которые ещё не были сохранены.
***
### FunctionDef tearDownClass(cls)
**tearDownClass**: Функция tearDownClass выполняет очистку после завершения всех тестов в классе, закрывая репозиторий и удаляя директорию тестового репозитория.

**parameters**: параметров у функции tearDownClass нет.

**Описание кода**: Функция tearDownClass использует конструкцию @classmethod для того, чтобы быть вызванной после выполнения всех тестов в классе. Внутри функции происходит закрытие репозитория через cls.repo.close() и удаление директории тестового репозитория с помощью команды операционной системы os.system('rm -rf ' + cls.test_repo_path).

**Примечание**: При использовании tearDownClass убедитесь, что путь к директории тестового репозитория (cls.test_repo_path) корректен и доступен для удаления. Функция использует системные вызовы, что может повлиять на стабильность окружения тестирования.
***
